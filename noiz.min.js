function t(t){var r=0,e=~~(Math.random()*t)+1,o=Math.random()>.5?!0:!1;return r=n(e,o),o&&(r=~r+1),(m.toCode()+r).toChar()}function n(t,n){for(var r=0,e=n?[2,5]:[1,4],o=0;t>o;o++)r+=-1==e.indexOf(o%7)?2:1;return r}function r(t,n){out=[];for(var r=0;n>r;r++)out=out.concat(t);return out}function e(t,n){return n+4*t}function o(t){return"rgba("+a(t,0)+","+a(t,2)+","+a(t,4)+",1)"}function a(t,n){var r=6.2/x;return~~(128*Math.sin(r*t+n)+127)}function u(t){E.clearRect(0,j-D,z,D),E.fillStyle="#000000";var n=z/C.length,r=D,e=t*n,o=j-r;E.fillRect(e,o,n,r)}function c(t){E.clearRect(0,0,z,j-D);var r=m.toCode()-n(b,!0);for(i=0;i<t.length;i++){var e=t[i];if(" "!==e){var a=e.toCode()-r;E.fillStyle=o(a);var u=z/t.length,c=j/x*a,f=i*u,l=j-c-D;E.fillRect(f,l,u,c),E.font="30px Arial"}}}Number.prototype.toChar=function(){return String.fromCharCode(this)},String.prototype.toCode=function(){return 1==this.length?this.charCodeAt(0):!1},String.prototype.replaceAt=function(t,n){return t%=C.length,this.substr(0,t)+n+this.substr(t+n.length)};var f,l=-1,h=0,g=0,d=0,v=0,s=0,p=0,C="g   s   n   z   j   v   l   x   ",m=C.substr(0,1),A=0,y=5,M=6,S=.2,b=11,x=n(b)+n(b,!0),R=t(b),w=8,B=4,P=document.getElementById("a"),j=P.height,z=P.width,D=10,E=P.getContext("2d"),G=function(n){for(var r=n.outputBuffer.length,o=n.outputBuffer.getChannelData(0),a=0;r>a;){if(0==v){if(l++,s=Math.pow(1.06,C.codePointAt(l&C.length-1)+(64&l)/21)/6,v=6e3,7&l||(g=s/4),u(l%C.length),l%M==0){if(A++,A%w==0){y++;var i=Math.random()<S?" ":t(b);R=i}if(A%B==0){var i=t(b/2),f=i,m=~~(Math.random()*C.length);C=C.replaceAt(m,f)}var x=e(l/M,y%3+1)%C.length;C=C.replaceAt(x,R),c(C)}p=1&l?g/2:g}h+=p,d+=s;var P=((8191&h)>3e3+v/6?0:v/64)-((8191&d)*v>>19);o[a++]=P/128,v--}};f=new AudioContext;var I=f.createGain();I.gain.value=.15;var N=f.createScriptProcessor(4096,0,1);N.onaudioprocess=G,N.connect(I),I.connect(f.destination);